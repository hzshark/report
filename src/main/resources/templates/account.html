<!DOCTYPE html>
<html>
<head>
    <title>充值</title>
    <link rel="stylesheet" href="./plugins/layui/css/layui.css" media="all">
    <style type="text/css">
    	.box {
    		background-color: #f9f7f7;
    		height: 130px;
    		padding: 20px;
    		margin-bottom:10px;
    	}
    	.main {
    		padding: 10px;
    	}
    	.title {
    	    font-size:20px;
    	    margin-bottom:10px;
    	}
        .btc-qrcode canvas {
            width: 110px;
        }
    </style>
</head>
<body>
<div class="layui-fluid main">
    <div class="layui-row box">
        <div class="title">
            BTC
        </div>
        <div class="layui-col-xs3 btc-qrcode">
        </div>
        <div class="layui-col-xs9" style="font-size: 20px;">
            <strong>充值地址：	</strong>
            <p class="btc-add"></p>
        </div>
    </div>

    <div class="layui-row box">
        <div class="title">
            ETH
        </div>
        <div class="layui-col-xs3 eth-qrcode">
        </div>
        <div class="layui-col-xs9" style="font-size: 20px;">
            <strong>充值地址：	</strong>
            <p class="eth-add"></p>
        </div>
    </div>

    <div class="layui-row" style="border: 1px #ddd solid; padding: 10px;    margin-top: 10px;">
        <p>充值须知</p>
        <p>1、使用BTC地址充值需要1个网络确认才能到账，使用站内账户间转账无需网络确认，可以实时到账。</p>
        <p>2、因BTC交易量大网络确认时间长，为了您的交易更快被确认建议您增加网络手续费。</p>
    </div>
    <div class="layui-row" style="margin-top: 10px">
        <p style="font-size: 16px">充值记录：</p>
        <table class="layui-table" lay-data="{height:315, url:'coin/list', page:true, id:'coinItem',height: 'full-25'}" id="coinItem">
            <thead>
            <tr>
                <th lay-data="{field:'id', width:300}">充值地址</th>
                <th lay-data="{field:'name', width:120}">充值数量</th>
                <th lay-data="{field:'amount', width:120}">最后更新</th>
                <th lay-data="{field:'status', width:120}">处理状态</th>
            </tr>
            </thead>
        </table>
    </div>
</div>
</body>
<script src="./plugins/layui/layui.js"></script>
<script>
    layui.use('table', function() {
        var table = layui.table;
    });
    layui.config({
        base: "/plugins/layui/js/"
    }).extend({
        jquery_qrcode: "jquery.qrcode.min"
    });

</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
<script type="text/javascript" src="/plugins/layui/js/jquery.qrcode.min.js"></script>
<script type="text/javascript">
    $(function(){
        $.getJSON("/user/walletaddress/bitcoin",function(json){
            console.log(json)
            $(".btc-qrcode").qrcode(json.result);
            $(".btc-add").html(json.result);
        });
        $.getJSON("/user/walletaddress/ether",function(json){
            console.log(json)
            $(".eth-qrcode").qrcode(json.result);
            $(".eth-add").html(json.result);
        });
    });
</script>
</html>